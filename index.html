<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Display</title>
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <!-- Navbar toggler for mobile view -->
        
        <!-- Navigation links -->
        <a href="#" class="nav-link nav-title">My Restaurant</a>
        <ul class="nav-links">
           <input type="text" placeholder="Search" class="mobile-search" onkeyup="searchFilter(this.value)">
            <li class="nav-item"><a onclick="filterList('all')">All</a></li>
            <li class="nav-item"><a onclick="filterList('starters')">Starters</a></li>
            <li class="nav-item" onclick="filterList('desserts')"><a  >Desserts</a></li>
            <li class="nav-item"><a onclick="filterList('mains')" >Mains</a></li>
            <li class="nav-item"><a onclick="filterList('beverages')">Beverages</a></li>
        </ul>
        <!-- Search input -->
        <input type="text" placeholder="Search" id="search-input" onkeyup="searchFilter(this.value)">
       
        <ul class="nav nav-pills">
            <li class="nav-item">
              <a class="nav-link menu" onclick="filterList('all')">All</a>
            </li>
            <li class="nav-item">
              <a class="nav-link menu" onclick="filterList('starters')" >Starters</a>
            </li>
            <li class="nav-item">
                <a class="nav-link menu" onclick="filterList('desserts')" >Desserts</a>
              </li>
              <li class="nav-item">
                <a class="nav-link menu" onclick="filterList('mains')">Mains</a>
              </li>
              <li class="nav-item">
                <a class="nav-link menu" onclick="filterList('beverages')" >Beverages</a>
              </li>
         </ul> 
         <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
         </div>
    </nav>
   
    <div class="video-banner">
        <video src="https://files.codingninjas.in/restaurant-1706081051.mp4" autoplay loop muted>
            Your browser does not support the video tag.
        </video>
    </div>
    <!-- Menu items -->
           
        <div class="menu-container" id="menu-container"></div>
       
    <!-- Include JavaScript files -->
    <script src="app.js"></script>
    <script>

        // Function to render menu items
        
       function searchFilter(query){
        console.log(query)
                if(query)
                {
                    document.getElementById('menu-container').innerHTML='';
                    filterArray = menu.filter(function (item) {
                        return item.title.toLowerCase().includes(query.toLowerCase());
                     });
                     console.log(filterArray);
                     MainFilter(filterArray);
                }
                    
       }
        function filterList(cat)
        {
            if(cat)
            {
              
                console.log(cat);
                document.getElementById('menu-container').innerHTML='';
                
               
            }
            renderMenu(cat);
            
        }
       
        renderMenu();
        function renderMenu(cat) {
            console.log('rendered again')
            var filterArray=[...menu];
            if(cat){
                if(cat === 'all')
                {
                    var filterArray=[...menu];
                }else{
                    filterArray = menu.filter(function (item) {
                     return item.category === cat;
                });
                }
                 
            }
            
            console.log(filterArray);
            
            MainFilter(filterArray);
            
        }
        function MainFilter(filterArray)
        {
            const menuContainer = document.getElementById('menu-container');
            filterArray.forEach(item => {
                // Create elements for each menu item
                const menuItem = document.createElement('div');
                menuItem.classList.add('menu-item');

                const card = document.createElement('div');
                card.classList.add('card');

                const img = document.createElement('img');
                img.src = item.img;
                img.alt = item.title;
                img.classList.add('card-img-top');

                const cardBody = document.createElement('div');
                cardBody.classList.add('card-body');

                const title = document.createElement('h5');
                title.classList.add('card-title');
                title.textContent = item.title;

                const price = document.createElement('h6');
                price.classList.add('card-subtitle');
                price.classList.add('mb-2');
                price.classList.add('text-muted');
                price.textContent = item.price;

                const description = document.createElement('p');
                description.classList.add('card-text');
                description.textContent = item.description;

                const category = document.createElement('p');
                category.classList.add('card-text');
                category.innerHTML = `<small class="text-muted">Category: ${item.category}</small>`;

                // Append elements to the card
                cardBody.appendChild(title);
                cardBody.appendChild(price);
                cardBody.appendChild(description);
                cardBody.appendChild(category);
                card.appendChild(img);
                card.appendChild(cardBody);

                // Append card to the menu item
                menuItem.appendChild(card);

                // Append menu item to the container
                menuContainer.appendChild(menuItem);
            });
        }
        // Call the function to render menu items on page load
        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');

        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');  // Toggle the visibility of the nav links
        });
    </script>
</body>
</html>